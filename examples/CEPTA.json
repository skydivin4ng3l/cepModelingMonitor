{"cells":[{"type":"standard.Rectangle","position":{"x":1329,"y":10},"size":{"width":100,"height":20},"angle":0,"id":"7a5377a5-0fe3-4a6e-af58-c3a07a348d54","z":1,"attrs":{"body":{"stroke":"black","fill":"white","visibility":"hidden","cursor":"default","stoke":"black"},"label":{"fontSize":12,"fill":"black","visibility":"hidden","text":"This is a Element","cursor":"default"}}},{"type":"cep.Element","ports":{"groups":{"out":{"position":{"name":"right"},"attrs":{".port-label":{"fill":"#000"},"rect":{"stroke":"#000","magnet":true}},"label":{"position":{"name":"bottom","args":{"x":15}}}},"in":{"position":{"name":"left"},"attrs":{".port-label":{"fill":"#000"},"circle":{"fill":"#fff","stroke":"#000","r":10,"cx":-10,"magnet":"passive"}},"label":{"position":{"name":"bottom","args":{"x":-15}}}}},"items":[{"group":"out","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"out"},"position":{"name":"right"},"magnet":true},"markup":"<rect width=\"16\" height=\"16\" y=\"-8\" fill=\"#fff\" />","Z":"auto","id":"b5bfedd8-7443-4550-a34d-b0fa63ee45f1"}]},"menu":"hidden","template":"<div class=\"epa-element\" ><h4 style=\"background: gold\"> Source </h4><form><label for=\"sourceName\">SourceName:</label><input type=\"text\" name=\"sourceName\"><br><label for=\"eventType\">EventType:</label><input type=\"text\" name=\"eventType\"><br><label for=\"producerType\">ProducerType:</label><select name=\"producerType\"><option>Detector</option><option>Sensor</option></select><br></form></div>","position":{"x":41,"y":168},"size":{"width":100,"height":130},"angle":0,"minimalSize":{"width":100,"height":130},"producerType":"Sensor","id":"3ebc194a-0373-4b8c-bf62-bad59fd24256","z":1,"eventType":"PlannedTrainData","sourceName":"KafkaPlannedTrainData","attrs":{"body":{"stroke":"black"},"htmlContainer":{"id":"1b6a9e82-ff83-425d-8140-d45555abb99d"}}},{"type":"cep.Element","ports":{"groups":{"out":{"position":{"name":"right"},"attrs":{".port-label":{"fill":"#000"},"rect":{"stroke":"#000","magnet":true}},"label":{"position":{"name":"bottom","args":{"x":15}}}},"in":{"position":{"name":"left"},"attrs":{".port-label":{"fill":"#000"},"circle":{"fill":"#fff","stroke":"#000","r":10,"cx":-10,"magnet":"passive"}},"label":{"position":{"name":"bottom","args":{"x":-15}}}}},"items":[{"group":"out","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"out"},"position":{"name":"right"},"magnet":true},"markup":"<rect width=\"16\" height=\"16\" y=\"-8\" fill=\"#fff\" />","Z":"auto","id":"b5bfedd8-7443-4550-a34d-b0fa63ee45f1"}]},"menu":"hidden","template":"<div class=\"epa-element\" ><h4 style=\"background: gold\"> Source </h4><form><label for=\"sourceName\">SourceName:</label><input type=\"text\" name=\"sourceName\"><br><label for=\"eventType\">EventType:</label><input type=\"text\" name=\"eventType\"><br><label for=\"producerType\">ProducerType:</label><select name=\"producerType\"><option>Detector</option><option>Sensor</option></select><br></form></div>","position":{"x":40,"y":350},"size":{"width":100,"height":130},"angle":0,"minimalSize":{"width":100,"height":130},"producerType":"Detector","id":"8985b468-8b79-41d7-bf34-eeb0a8fe32c9","z":1,"sourceName":"KafkaLiveTrainData","eventType":"LiveTrainData","attrs":{"body":{"stroke":"black"},"htmlContainer":{"id":"2bd3bcde-f779-43f7-a848-69a34b4f71e0"}}},{"type":"cep.Element","ports":{"groups":{"out":{"position":{"name":"right"},"attrs":{".port-label":{"fill":"#000"},"rect":{"stroke":"#000","magnet":true}},"label":{"position":{"name":"bottom","args":{"x":15}}}},"in":{"position":{"name":"left"},"attrs":{".port-label":{"fill":"#000"},"circle":{"fill":"#fff","stroke":"#000","r":10,"cx":-10,"magnet":"passive"}},"label":{"position":{"name":"bottom","args":{"x":-15}}}}},"items":[{"group":"in","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"in"},"position":{"name":"left"},"magnet":"passive"},"markup":"<circle/>","Z":"auto","id":"5b4bf736-b731-42fa-ac08-9c5c3b1dc720"}]},"menu":"hidden","template":"<div class=\"epa-element\" ><h4 style=\"background: darkorange\"> Sink </h4><form><label for=\"sinkName\">SinkName:</label><input type=\"text\" name=\"sinkName\"><br><label for=\"destination\">Destination:</label><input type=\"text\" name=\"destination\"><br><label for=\"consumerType\">ConsumerType:</label><select name=\"consumerType\"><option>Hardware</option><option>Human Interaction</option><option>Software</option></select><br></form></div>","position":{"x":1360,"y":350},"size":{"width":200,"height":130},"angle":0,"minimalSize":{"width":100,"height":130},"sinkName":"DelayNotification","consumerType":"Software","id":"8a1028a8-0bef-4be6-997b-ab12182e7737","z":2,"destination":"KafkaTopic Notification","attrs":{"body":{"stroke":"black"},"htmlContainer":{"id":"9a4a5a1a-ca5a-46db-abbc-3eb49d25a176"}}},{"type":"cep.Element","ports":{"groups":{"out":{"position":{"name":"right"},"attrs":{".port-label":{"fill":"#000"},"rect":{"stroke":"#000","magnet":true}},"label":{"position":{"name":"bottom","args":{"x":15}}}},"in":{"position":{"name":"left"},"attrs":{".port-label":{"fill":"#000"},"circle":{"fill":"#fff","stroke":"#000","r":10,"cx":-10,"magnet":"passive"}},"label":{"position":{"name":"bottom","args":{"x":-15}}}}},"items":[{"group":"in","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"in"},"position":{"name":"left"},"magnet":"passive"},"markup":"<circle/>","Z":"auto","id":"0eb2c87b-732c-4c53-9e87-1e2c4cac40d6"},{"group":"out","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"out"},"position":{"name":"right"},"magnet":true},"markup":"<rect width=\"16\" height=\"16\" y=\"-8\" fill=\"#fff\" />","Z":"auto","id":"e8b16ca7-4cff-48d9-b64b-5cbe3c2b4bb0"}]},"menu":"hidden","template":"<div class=\"epa-element\" ><h4 style=\"background: #73b3de\"> Enrich </h4><form><label for=\"enrichName\">EnrichName:</label><input type=\"text\" name=\"enrichName\"><br><label for=\"enrichMode\">Mode:</label><select name=\"enrichMode\"><option>append</option><option>replace</option></select><br><label for=\"derivationFunction\">DerivationFunction:</label><textarea name=\"derivationFunction\" rows=\"3\" placeholder=\"Out.temperatureF := Ref.temperatureC * 9/5 + 32\"></textarea><label for=\"referenceName\">ReferenceName:</label><input type=\"text\" name=\"referenceName\" placeholder=\"TrainData\"><br><label for=\"refQueryFunction\">RefQueryFunction:</label><textarea name=\"refQueryFunction\" rows=\"3\" placeholder=\"TrainData.find(and(eq(trainSectionId,event.TrainSection),eq(endStationId,event.EndStationId),eq(plannedArrivalTimeEndStation,event.PlannedArrivalTimeEndStation))).sort(ascending(plannedEventTime))\"></textarea></form></div>","position":{"x":920,"y":280},"size":{"width":120,"height":265},"angle":0,"minimalSize":{"width":120,"height":265},"id":"a58539e3-97db-4216-b877-08068d5e3f21","z":6,"referenceName":"LocatinonData","enrichName":"EnrichDelayWithCoordinates","derivationFunction":"Coordinates {\nlongitude: Ref.long\nLatitude: Ref.lat}","attrs":{"body":{"stroke":"black"},"htmlContainer":{"id":"c060e21f-4b7b-48c5-b329-9f6a64e6e646"}}},{"type":"cep.Element","ports":{"groups":{"out":{"position":{"name":"right"},"attrs":{".port-label":{"fill":"#000"},"rect":{"stroke":"#000","magnet":true}},"label":{"position":{"name":"bottom","args":{"x":15}}}},"in":{"position":{"name":"left"},"attrs":{".port-label":{"fill":"#000"},"circle":{"fill":"#fff","stroke":"#000","r":10,"cx":-10,"magnet":"passive"}},"label":{"position":{"name":"bottom","args":{"x":-15}}}}},"items":[{"group":"in","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"in"},"position":{"name":"left"},"magnet":"passive"},"markup":"<circle/>","Z":"auto","id":"a843ddf3-905d-4d0c-a09f-3f5a8b170cd1"},{"group":"out","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"out"},"position":{"name":"right"},"magnet":true},"markup":"<rect width=\"16\" height=\"16\" y=\"-8\" fill=\"#fff\" />","Z":"auto","id":"558e12b6-00a3-4666-8a30-6b32c4e55c51"}]},"menu":"hidden","template":"<div class=\"epa-element\" ><h4 style=\"background: #ffffff\"> Generic EPA </h4><form><label for=\"epaName\">EPAName:</label><input type=\"text\" id=\"epaName\" name=\"epaName\"><br><label for=\"genericEpaFunction\">GenericFunction:</label><textarea name=\"genericEpaFunction\" rows=\"5\" placeholder=\"purpose or function\"></textarea><label for=\"referenceName\">ReferenceName:</label><input type=\"text\" name=\"referenceName\" placeholder=\"PlannedTrainData\"><br><label for=\"refQueryFunction\">RefQueryFunction:</label><textarea name=\"refQueryFunction\" rows=\"5\" placeholder=\"Query\"></textarea></form></div>","position":{"x":380,"y":70},"size":{"width":120,"height":290},"angle":0,"minimalSize":{"width":120,"height":290},"id":"06527054-3e50-4623-a867-8e06601c3151","z":11,"epaName":"DataToMongo","genericEpaFunction":"Upload Events to MongoDB, newer override older, with same data","refQueryFunction":"Ref.insertOne(event)","attrs":{"body":{"stroke":"black"},"htmlContainer":{"id":"df16cf6b-ed9e-444d-baea-bc9fbbd06f2c"}}},{"type":"cep.Element","ports":{"groups":{"out":{"position":{"name":"right"},"attrs":{".port-label":{"fill":"#000"},"rect":{"stroke":"#000","magnet":true}},"label":{"position":{"name":"bottom","args":{"x":15}}}},"in":{"position":{"name":"left"},"attrs":{".port-label":{"fill":"#000"},"circle":{"fill":"#fff","stroke":"#000","r":10,"cx":-10,"magnet":"passive"}},"label":{"position":{"name":"bottom","args":{"x":-15}}}}},"items":[{"group":"in","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"in"},"position":{"name":"left"},"magnet":"passive"},"markup":"<circle/>","Z":"auto","id":"a843ddf3-905d-4d0c-a09f-3f5a8b170cd1"},{"group":"out","args":{},"label":{"markup":"<text class=\"label-text\" fill=\"blue\"/>"},"attrs":{"text":{"text":"out"},"position":{"name":"right"},"magnet":true},"markup":"<rect width=\"16\" height=\"16\" y=\"-8\" fill=\"#fff\" />","Z":"auto","id":"558e12b6-00a3-4666-8a30-6b32c4e55c51"}]},"menu":"hidden","template":"<div class=\"epa-element\" ><h4 style=\"background: #ffffff\"> Generic EPA </h4><form><label for=\"epaName\">EPAName:</label><input type=\"text\" id=\"epaName\" name=\"epaName\"><br><label for=\"genericEpaFunction\">GenericFunction:</label><textarea name=\"genericEpaFunction\" rows=\"5\" placeholder=\"purpose or function\"></textarea><label for=\"referenceName\">ReferenceName:</label><input type=\"text\" name=\"referenceName\" placeholder=\"PlannedTrainData\"><br><label for=\"refQueryFunction\">RefQueryFunction:</label><textarea name=\"refQueryFunction\" rows=\"5\" placeholder=\"Query\"></textarea></form></div>","position":{"x":510,"y":270},"size":{"width":120,"height":290},"angle":0,"minimalSize":{"width":120,"height":290},"id":"3392b35d-1b71-4ad3-8392-b8fd0152bf83","z":11,"refQueryFunction":"find(and(eq(\"trainSectionId\",dataset.getTrainSectionId()),eq(\"endStationId\",dataset.getEndStationId()),eq(\"plannedArrivalTimeEndStation\",dataset.getPlannedArrivalTimeEndStation()))).sort(ascending(\"plannedEventTime\"))","epaName":"DelayShift","genericEpaFunction":"1.Enrich planData;2.Filter upcomming;\n3.Create 4all Events","attrs":{"body":{"stroke":"black"},"htmlContainer":{"id":"6af08f2e-44a3-46b8-9603-9aa76b4b0221"}}},{"type":"cep.Link","source":{"id":"a58539e3-97db-4216-b877-08068d5e3f21","port":"e8b16ca7-4cff-48d9-b64b-5cbe3c2b4bb0"},"target":{"id":"8a1028a8-0bef-4be6-997b-ab12182e7737","port":"5b4bf736-b731-42fa-ac08-9c5c3b1dc720"},"id":"9033444d-5d63-47b0-b551-c6116e81ed44","z":12,"labels":[{"attrs":{"body":{"stroke":"black"}}}],"attrs":{"line":{"stroke":"black"},"streamLabel":{"text":"notificationFromDelayShiftEnrichedStream"},"canvasContainer":{"id":"9c8bdd6c-88e3-4f61-9f6e-e0db9699e0c7"}}},{"type":"cep.Link","source":{"id":"3392b35d-1b71-4ad3-8392-b8fd0152bf83","port":"558e12b6-00a3-4666-8a30-6b32c4e55c51"},"target":{"id":"a58539e3-97db-4216-b877-08068d5e3f21","port":"0eb2c87b-732c-4c53-9e87-1e2c4cac40d6"},"id":"f6102b0c-8890-4580-861e-36d2b1eaebd7","z":13,"labels":[{"attrs":{"body":{"stroke":"black"}}}],"attrs":{"line":{"stroke":"black"},"streamLabel":{"text":"notificationFromDelayShiftStream"},"canvasContainer":{"id":"fcce1c76-848c-4946-bb8a-cf2abb70b307"}}},{"type":"cep.Link","source":{"id":"3ebc194a-0373-4b8c-bf62-bad59fd24256","port":"b5bfedd8-7443-4550-a34d-b0fa63ee45f1"},"target":{"id":"06527054-3e50-4623-a867-8e06601c3151","port":"a843ddf3-905d-4d0c-a09f-3f5a8b170cd1"},"id":"ddd66d6f-a34b-437a-a2f0-3b711a04ba9d","z":15,"labels":[{"attrs":{"body":{"stroke":"black"}}}],"attrs":{"line":{"stroke":"black"},"streamLabel":{"text":"plannedTrainDataStream"},"canvasContainer":{"id":"3a885edf-3ce3-46ad-8376-8db242d2c12b"}}},{"type":"cep.Link","source":{"id":"8985b468-8b79-41d7-bf34-eeb0a8fe32c9","port":"b5bfedd8-7443-4550-a34d-b0fa63ee45f1"},"target":{"id":"3392b35d-1b71-4ad3-8392-b8fd0152bf83","port":"a843ddf3-905d-4d0c-a09f-3f5a8b170cd1"},"id":"77ce89b7-a2f9-4112-9830-7d756386bfd2","z":16,"labels":[{"attrs":{"body":{"stroke":"black"}}}],"attrs":{"line":{"stroke":"black"},"streamLabel":{"text":"liveTrainDataStream"},"canvasContainer":{"id":"7ab81339-4b86-41d3-800c-291f7b54c027"}}}]}